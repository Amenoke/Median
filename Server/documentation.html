<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Median Core - Complete Documentation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&family=JetBrains+Mono&display=swap" rel="stylesheet">
    <style>
        * {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        :root {
            --primary: #00c8ff;
            --primary-dark: #0099cc;
            --dark: #001a33;
            --light: #ffffff;
            --gray: #a0a8c0;
            --success: #50fa7b;
            --warning: #ffb86c;
            --error: #ff5555;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Montserrat', sans-serif;
            color: var(--light);
            background: 
                linear-gradient(135deg, rgba(0,20,40,0.95) 0%, rgba(0,40,80,0.9) 100%),
                url('https://images.unsplash.com/photo-1534796636912-3b95b3ab5986?q=80&w=1471&auto=format&fit=crop') no-repeat center/cover;
            min-height: 100vh;
            line-height: 1.6;
            touch-action: pan-y;
        }
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 5%;
            position: fixed;
            width: 100%;
            z-index: 1000;
            background: rgba(0, 20, 40, 0.8);
            backdrop-filter: blur(5px);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .logo-icon {
            width: 30px;
            height: 30px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--dark);
            font-weight: bold;
            font-size: 1rem;
        }
        nav ul {
            display: flex;
            gap: 2rem;
            list-style: none;
        }
        nav a {
            color: var(--light);
            text-decoration: none;
            font-weight: 500;
            position: relative;
            transition: color 0.3s;
        }
        nav a:hover {
            color: var(--primary);
        }
        nav a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: width 0.3s;
        }
        nav a:hover::after {
            width: 100%;
        }
        .docs-container {
            display: flex;
            min-height: calc(100vh - 80px);
            padding-top: 80px;
        }
        .sidebar {
            width: 280px;
            background: rgba(0, 10, 20, 0.7);
            border-right: 1px solid rgba(255,255,255,0.1);
            padding: 2rem 1rem;
            position: fixed;
            height: 100%;
            overflow-y: auto;
        }
        .search-container {
            padding: 1rem;
            position: sticky;
            top: 0;
            background: rgba(0, 15, 30, 0.9);
            z-index: 100;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .search-box {
            width: 100%;
            padding: 0.8rem 1rem;
            border-radius: 25px;
            border: 1px solid var(--primary);
            background: rgba(0, 30, 60, 0.7);
            color: var(--light);
            font-family: 'Montserrat', sans-serif;
            font-size: 1rem;
            outline: none;
        }
        .search-box:focus {
            box-shadow: 0 0 0 2px var(--primary);
        }
        .sidebar-title {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
            padding-left: 1rem;
        }
        .sidebar-menu {
            list-style: none;
        }
        .sidebar-menu li {
            margin-bottom: 0.5rem;
        }
        .sidebar-menu a {
            display: block;
            padding: 0.7rem 1rem;
            color: var(--gray);
            text-decoration: none;
            border-radius: 5px;
            transition: all 0.3s;
        }
        .sidebar-menu a:hover {
            color: var(--light);
            background: rgba(0, 200, 255, 0.1);
        }
        .sidebar-menu a.active {
            color: var(--primary);
            background: rgba(0, 200, 255, 0.2);
            font-weight: 600;
        }
        .sidebar-submenu {
            list-style: none;
            margin-top: 0.5rem;
            margin-left: 1rem;
            padding-left: 1rem;
            border-left: 1px solid rgba(255,255,255,0.1);
        }
        .sidebar-submenu a {
            padding: 0.5rem 1rem;
            font-size: 0.9rem;
        }
        .content {
            flex: 1;
            padding: 3rem 5%;
            margin-left: 280px;
            max-width: 900px;
        }
        .content-section {
            margin-bottom: 4rem;
            scroll-margin-top: 100px;
        }
        .content h1 {
            font-size: 2.5rem;
            margin-bottom: 2rem;
            color: var(--light);
            position: relative;
            padding-bottom: 1rem;
        }
        .content h1::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100px;
            height: 3px;
            background: var(--primary);
        }
        .content h2 {
            font-size: 1.8rem;
            margin: 2.5rem 0 1.5rem;
            color: var(--light);
        }
        .content h3 {
            font-size: 1.4rem;
            margin: 2rem 0 1rem;
            color: var(--light);
        }
        .content h4 {
            font-size: 1.2rem;
            margin: 1.5rem 0 1rem;
            color: var(--primary);
        }
        .content p {
            margin-bottom: 1.5rem;
            color: var(--gray);
            line-height: 1.7;
        }
        .content ul, .content ol {
            margin-bottom: 1.5rem;
            padding-left: 2rem;
        }
        .content li {
            margin-bottom: 0.7rem;
            color: var(--gray);
        }
        .code-block {
            background: rgba(0, 20, 40, 0.8);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            font-family: 'JetBrains Mono', monospace;
            overflow-x: auto;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .code-block pre {
            margin: 0;
        }
        .keyword { color: #ff79c6; }
        .function { color: #50fa7b; }
        .string { color: #f1fa8c; }
        .comment { color: #6272a4; }
        .type { color: #8be9fd; }
        .operator { color: #ffb86c; }
        .number { color: #bd93f9; }
        .note {
            background: rgba(0, 200, 255, 0.1);
            border-left: 3px solid var(--primary);
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 0 5px 5px 0;
        }
        .note-title {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        .warning {
            background: rgba(255, 184, 108, 0.1);
            border-left: 3px solid var(--warning);
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 0 5px 5px 0;
        }
        .warning-title {
            font-weight: 600;
            color: var(--warning);
            margin-bottom: 0.5rem;
        }
        .error {
            background: rgba(255, 85, 85, 0.1);
            border-left: 3px solid var(--error);
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 0 5px 5px 0;
        }
        .error-title {
            font-weight: 600;
            color: var(--error);
            margin-bottom: 0.5rem;
        }
        .success {
            background: rgba(80, 250, 123, 0.1);
            border-left: 3px solid var(--success);
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 0 5px 5px 0;
        }
        .success-title {
            font-weight: 600;
            color: var(--success);
            margin-bottom: 0.5rem;
        }
        .table-container {
            overflow-x: auto;
            margin: 1.5rem 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(0, 20, 40, 0.8);
            border-radius: 8px;
            overflow: hidden;
        }
        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        th {
            background: rgba(0, 200, 255, 0.1);
            color: var(--primary);
            font-weight: 600;
        }
        tr:hover {
            background: rgba(255,255,255,0.05);
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        .feature-card {
            background: rgba(0, 20, 40, 0.6);
            border-radius: 8px;
            padding: 1.5rem;
            border: 1px solid rgba(255,255,255,0.1);
            transition: transform 0.3s;
        }
        .feature-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
        }
        .feature-card h3 {
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        .architecture-diagram {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin: 2rem 0;
        }
        .arch-layer {
            background: rgba(0, 30, 60, 0.5);
            border-radius: 8px;
            padding: 1.5rem;
            border-left: 4px solid var(--primary);
        }
        .arch-layer h4 {
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        .execution-steps {
            list-style-type: none;
            counter-reset: step-counter;
        }
        .execution-steps li {
            position: relative;
            padding-left: 3rem;
            margin-bottom: 2rem;
            counter-increment: step-counter;
        }
        .execution-steps li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: var(--primary);
            color: var(--dark);
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        .comparison-table {
            margin: 2rem 0;
        }
        .comparison-table th, .comparison-table td {
            text-align: center;
        }
        .comparison-table th:first-child, .comparison-table td:first-child {
            text-align: left;
            font-weight: 600;
        }
        .package-states {
            display: flex;
            justify-content: space-between;
            margin: 2rem 0;
            gap: 1rem;
        }
        .state-card {
            flex: 1;
            background: rgba(0, 20, 40, 0.6);
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
            border-top: 3px solid var(--primary);
        }
        .state-card h4 {
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        .command-card {
            background: rgba(0, 20, 40, 0.7);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 2rem 0;
            border-left: 4px solid var(--primary);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .command-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }
        .command-name {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--primary);
            font-family: 'JetBrains Mono', monospace;
            margin-right: 1rem;
        }
        .command-type {
            background: var(--primary-dark);
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        .command-description {
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }
        .command-usage {
            background: rgba(0, 30, 60, 0.5);
            border-radius: 6px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 3px solid var(--primary);
        }
        .command-usage-title {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        .command-examples {
            margin-top: 1.5rem;
        }
        .command-example {
            background: rgba(0, 30, 60, 0.3);
            border-radius: 6px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 2px solid var(--primary-dark);
        }
        .command-requirements {
            margin-top: 1rem;
            font-size: 0.9rem;
            color: var(--gray);
        }
        .command-requirements strong {
            color: var(--light);
        }
        .highlight {
            background-color: rgba(255, 255, 0, 0.3);
            padding: 0.1rem 0.2rem;
            border-radius: 3px;
        }
        @media (max-width: 1024px) {
            .sidebar {
                width: 240px;
            }
            .content {
                margin-left: 240px;
            }
        }
        @media (max-width: 768px) {
            .docs-container {
                flex-direction: column;
            }
            .sidebar {
                position: static;
                width: 100%;
                height: auto;
                padding: 1rem;
            }
            .content {
                margin-left: 0;
                padding: 2rem;
            }
            nav ul {
                gap: 1rem;
            }
            .feature-grid {
                grid-template-columns: 1fr;
            }
            .package-states {
                flex-direction: column;
            }
            .command-header {
                flex-direction: column;
                align-items: flex-start;
            }
            .command-type {
                margin-top: 0.5rem;
            }
        }
    </style>
</head>
<body oncontextmenu="return false">
    <header>
        <div class="logo">
            <div class="logo-icon">M</div>
            <span>Median Core</span>
        </div>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="https://github.com/Amenoke/Median" target="_blank">Repository</a></li>
                <li><a href="https://github.com/Amenoke/Median/wiki" target="_blank">Wiki</a></li>
                <li><a href="https://github.com/Amenoke/Median/issues" target="_blank">Issues</a></li>
            </ul>
        </nav>
    </header>
    
    <div class="docs-container">
        <aside class="sidebar">
            <div class="search-container">
                <input type="text" class="search-box" placeholder="Search commands, options..." id="searchInput">
            </div>
            <h3 class="sidebar-title">Complete Documentation</h3>
            <ul class="sidebar-menu" id="sidebarMenu">
                <li><a href="#introduction" class="active">Introduction</a></li>
                <li>
                    <a href="#core-system">Core System</a>
                    <ul class="sidebar-submenu">
                        <li><a href="#architecture">Architecture</a></li>
                        <li><a href="#initialization">Initialization</a></li>
                        <li><a href="#execution-flow">Execution Flow</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#compilation-system">Compilation System</a>
                    <ul class="sidebar-submenu">
                        <li><a href="#compiler-types">Compiler Types</a></li>
                        <li><a href="#di-compiler">DI Compiler</a></li>
                        <li><a href="#fc-compiler">FC Compiler</a></li>
                        <li><a href="#dc-compiler">DC Compiler</a></li>
                        <li><a href="#caching-system">Caching System</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#package-system">Package System</a>
                    <ul class="sidebar-submenu">
                        <li><a href="#package-types">Package Types</a></li>
                        <li><a href="#package-states">Package States</a></li>
                        <li><a href="#package-management">Package Management</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#system-commands">System Commands</a>
                    <ul class="sidebar-submenu">
                        <li><a href="#compil-command">~compil</a></li>
                        <li><a href="#config-command">~config</a></li>
                        <li><a href="#dipkg-command">~dipkg</a></li>
                        <li><a href="#memory-command">~memory</a></li>
                        <li><a href="#reset-command">~reset</a></li>
                        <li><a href="#info-command">~i</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#configuration">Configuration</a>
                    <ul class="sidebar-submenu">
                        <li><a href="#compiler-config">Compiler Settings</a></li>
                        <li><a href="#runtime-config">Runtime Settings</a></li>
                        <li><a href="#package-config">Package Settings</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#resource-management">Resource Management</a>
                    <ul class="sidebar-submenu">
                        <li><a href="#memory-management">Memory</a></li>
                        <li><a href="#performance-optimization">Performance</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#error-handling">Error Handling</a>
                    <ul class="sidebar-submenu">
                        <li><a href="#error-types">Error Types</a></li>
                        <li><a href="#error-recovery">Recovery</a></li>
                    </ul>
                </li>
                <li><a href="#best-practices">Best Practices</a></li>
                <li><a href="#api-reference">API Reference</a></li>
                <li><a href="#appendix">Appendix</a></li>
            </ul>
        </aside>
        
        <main class="content">
            <section id="introduction" class="content-section">
                <h1>Median Core v1.0.0</h1>
                <p>Median Core is a high-performance execution environment with flexible compilation system and extensible architecture designed for both development and production use.</p>
                
                <div class="note">
                    <div class="note-title">Version 1.0.0</div>
                    <p>This version represents a stable release with full package system support and improved resource management.</p>
                </div>
                
                <h2>Key Features</h2>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h3>Multi-Compilation</h3>
                        <p>Three compilation modes with different performance characteristics</p>
                    </div>
                    <div class="feature-card">
                        <h3>Package System</h3>
                        <p>Modular architecture with isolated components</p>
                    </div>
                    <div class="feature-card">
                        <h3>Flexible Configuration</h3>
                        <p>Runtime adjustment of all execution aspects</p>
                    </div>
                    <div class="feature-card">
                        <h3>Resource Control</h3>
                        <p>Precise memory monitoring and limits enforcement</p>
                    </div>
                </div>
            </section>
            
            <section id="core-system" class="content-section">
                <h2>Core System</h2>
                
                <h3 id="architecture">Architecture</h3>
                <p>Median Core is built on a modular principle with clear separation of concerns:</p>
                
                <div class="architecture-diagram">
                    <div class="arch-layer">
                        <h4>System Commands</h4>
                        <p>Handles special commands (~compil, ~config, etc.)</p>
                    </div>
                    <div class="arch-layer">
                        <h4>Compiler Manager</h4>
                        <p>Selection and configuration of active compiler</p>
                    </div>
                    <div class="arch-layer">
                        <h4>Package System</h4>
                        <p>Management of DI compiler modules</p>
                    </div>
                    <div class="arch-layer">
                        <h4>Caching System</h4>
                        <p>Optimization of repeated executions</p>
                    </div>
                    <div class="arch-layer">
                        <h4>Resource Manager</h4>
                        <p>Memory and performance control</p>
                    </div>
                </div>
                
                <h3 id="initialization">Initialization</h3>
                <p>Creating a Median Core instance:</p>
                
                <div class="code-block">
                    <pre><span class="keyword">const</span> median = <span class="keyword">new</span> <span class="type">MedianCore</span>();</pre>
                </div>
                
                <p>Initial system state:</p>
                <ul>
                    <li>Compiler: not set (null)</li>
                    <li>Memory: 0MB of 512MB (0%)</li>
                    <li>Active packages: none</li>
                    <li>Optimization level: 1 (basic)</li>
                </ul>
                
                <h3 id="execution-flow">Execution Flow</h3>
                <ol class="execution-steps">
                    <li>
                        <strong>Command Parsing</strong>
                        <p>Determines command type (system/code)</p>
                    </li>
                    <li>
                        <strong>Package Verification</strong>
                        <p>For DI compiler - checks required package availability</p>
                    </li>
                    <li>
                        <strong>Resource Allocation</strong>
                        <p>Checks available memory and other limits</p>
                    </li>
                    <li>
                        <strong>Compilation/Execution</strong>
                        <p>Processes according to selected compiler</p>
                    </li>
                    <li>
                        <strong>Output Formatting</strong>
                        <p>Prepares result for display</p>
                    </li>
                </ol>
            </section>
            
            <section id="compilation-system" class="content-section">
                <h2>Compilation System</h2>
                <p>Median Core provides three compilation modes with different characteristics.</p>
                
                <h3 id="compiler-types">Compiler Types</h3>
                <div class="comparison-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Characteristic</th>
                                <th>DI</th>
                                <th>FC</th>
                                <th>DC</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Type</td>
                                <td>Interpreter</td>
                                <td>JIT Compiler</td>
                                <td>AOT Compiler</td>
                            </tr>
                            <tr>
                                <td>Optimization</td>
                                <td>None</td>
                                <td>Moderate</td>
                                <td>Aggressive</td>
                            </tr>
                            <tr>
                                <td>Startup</td>
                                <td>Instant</td>
                                <td>Fast</td>
                                <td>Slow</td>
                            </tr>
                            <tr>
                                <td>Execution</td>
                                <td>Slow</td>
                                <td>Fast</td>
                                <td>Very Fast</td>
                            </tr>
                            <tr>
                                <td>Packages</td>
                                <td>Required</td>
                                <td>None</td>
                                <td>None</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <h3 id="di-compiler">DI Compiler (Direct Interpreter)</h3>
                <p>Interpreter with module support through package system.</p>
                
                <h4>Features</h4>
                <ul>
                    <li>Line-by-line execution</li>
                    <li>Minimal memory requirements</li>
                    <li>Full debugging support</li>
                    <li>Requires package activation for advanced functionality</li>
                </ul>
                
                <h4>Base Packages</h4>
                <div class="code-block">
                    <pre><span class="string">"packages"</span>: {
  <span class="string">"available"</span>: [<span class="string">"directint"</span>, <span class="string">"directint-sys"</span>, ...],
  <span class="string">"installed"</span>: [<span class="string">"directint"</span>, <span class="string">"directint-sys"</span>, ...],
  <span class="string">"active"</span>: [<span class="string">"directint"</span>, <span class="string">"directint-sys"</span>, ...]
}</pre>
                </div>
                
                <div class="warning">
                    <div class="warning-title">Restricted Mode</div>
                    <p>When only directint-sys is installed (not active), only the ~compil command is available for changing compilers.</p>
                </div>
                
                <h3 id="fc-compiler">FC Compiler (Flexible Compiler)</h3>
                <p>Balances compilation speed and execution performance.</p>
                
                <h4>Features</h4>
                <ul>
                    <li>JIT compilation with basic optimization</li>
                    <li>Debug information support</li>
                    <li>Automatic intermediate result caching</li>
                </ul>
                
                <h4>Default Settings</h4>
                <div class="code-block">
                    <pre><span class="string">"FC"</span>: {
  <span class="string">"optimizationLevel"</span>: <span class="number">2</span>,
  <span class="string">"inlineFunctions"</span>: <span class="keyword">true</span>
}</pre>
                </div>
                
                <h3 id="dc-compiler">DC Compiler (Direct Compiler)</h3>
                <p>Maximum performance for production environments.</p>
                
                <h4>Features</h4>
                <ul>
                    <li>AOT compilation with aggressive optimization</li>
                    <li>Minimal overhead</li>
                    <li>Limited debug information</li>
                </ul>
                
                <h4>Recommended Settings</h4>
                <div class="code-block">
                    <pre><span class="string">"DC"</span>: {
  <span class="string">"optimizationLevel"</span>: <span class="number">3</span>,
  <span class="string">"strictMode"</span>: <span class="keyword">true</span>,
  <span class="string">"debugSymbols"</span>: <span class="keyword">false</span>
}</pre>
                </div>
                
                <h3 id="caching-system">Caching System</h3>
                <p>Caching mechanism significantly speeds up repeated code execution.</p>
                
                <h4>Operation Principles</h4>
                <ul>
                    <li>Compilation results are cached</li>
                    <li>Automatic invalidation on source code changes</li>
                    <li>Tracks current compiler and its settings</li>
                    <li>Memory size limitation</li>
                </ul>
                
                <div class="warning">
                    <div class="warning-title">Cache Clearing</div>
                    <p>The <code>~reset</code> command clears compilation cache but doesn't affect current configuration.</p>
                </div>
            </section>
            
            <section id="package-system" class="content-section">
                <h2>Package System</h2>
                <p>Modular architecture for extending DI compiler functionality.</p>
                
                <h3 id="package-types">Package Types</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Package</th>
                                <th>Description</th>
                                <th>Required For</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>directint</td>
                                <td>Core interpretation</td>
                                <td>Basic execution</td>
                            </tr>
                            <tr>
                                <td>directint-sys</td>
                                <td>System commands</td>
                                <td>~compil, ~config, etc.</td>
                            </tr>
                            <tr>
                                <td>directint-api</td>
                                <td>Standard API</td>
                                <td>Output</td>
                            </tr>
                            <tr>
                                <td>di-ext</td>
                                <td>Configuration</td>
                                <td>~config command</td>
                            </tr>
                            <tr>
                                <td>direct-actu</td>
                                <td>Info system</td>
                                <td>~i command</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <h3 id="package-states">Package States</h3>
                <div class="package-states">
                    <div class="state-card">
                        <h4>Available</h4>
                        <p>Can be installed</p>
                    </div>
                    <div class="state-card">
                        <h4>Installed</h4>
                        <p>Ready for activation</p>
                    </div>
                    <div class="state-card">
                        <h4>Active</h4>
                        <p>Currently in use</p>
                    </div>
                </div>
                
                <h3 id="package-management">Package Management</h3>
                <p>Use the <code>~dipkg</code> command for package operations:</p>
                
                <div class="code-block">
                    <pre><span class="comment">// Install a package</span>
~dipkg install di-ext

<span class="comment">// Activate a package</span>
~dipkg activate direct-actu

<span class="comment">// List installed packages</span>
~dipkg list

<span class="comment">// Show available packages</span>
~dipkg available</pre>
                </div>
                
                <div class="note">
                    <div class="note-title">Package Dependencies</div>
                    <p>Some packages require others to be installed. The system will automatically notify you about missing dependencies.</p>
                </div>
            </section>
            
            <section id="system-commands" class="content-section">
                <h2>System Commands</h2>
                <p>Special commands prefixed with <code>~</code> for core functionality. Click any command in the sidebar to jump directly to it.</p>
                
                <div class="command-card" id="compil-command">
                    <div class="command-header">
                        <span class="command-name">~compil</span>
                        <span class="command-type">COMPILER MANAGEMENT</span>
                    </div>
                    <div class="command-description">
                        Manages compiler selection and configuration. This command is always available as it's required for changing compilers.
                    </div>
                    <div class="command-usage">
                        <div class="command-usage-title">Usage:</div>
                        <div class="code-block">
                            <pre>~compil [compiler_name]</pre>
                        </div>
                    </div>
                    <div class="command-examples">
                        <h4>Examples:</h4>
                        <div class="command-example">
                            <div class="code-block">
                                <pre><span class="comment">// List available compilers</span>
~compil

<span class="comment">// Select Direct Interpreter</span>
~compil DI

<span class="comment">// Reset to no compiler</span>
~compil null</pre>
                            </div>
                        </div>
                    </div>
                    <div class="command-requirements">
                        <strong>Requirements:</strong> directint-sys package (installed by default)
                    </div>
                </div>
                
                <div class="command-card" id="config-command">
                    <div class="command-header">
                        <span class="command-name">~config</span>
                        <span class="command-type">CONFIGURATION</span>
                    </div>
                    <div class="command-description">
                        Handles runtime configuration changes. Allows viewing and modifying all system settings.
                    </div>
                    <div class="command-usage">
                        <div class="command-usage-title">Usage:</div>
                        <div class="code-block">
                            <pre>~config [command] [path] [value]</pre>
                        </div>
                    </div>
                    <div class="command-examples">
                        <h4>Examples:</h4>
                        <div class="command-example">
                            <div class="code-block">
                                <pre><span class="comment">// View current config</span>
~config

<span class="comment">// Set optimization level</span>
~config set compilerOptions.optimizationLevel 3

<span class="comment">// Change memory limit</span>
~config set bash.memoryLimitMB 1024</pre>
                            </div>
                        </div>
                    </div>
                    <div class="command-requirements">
                        <strong>Requirements:</strong> di-ext package must be installed and active
                    </div>
                </div>
                
                <div class="command-card" id="dipkg-command">
                    <div class="command-header">
                        <span class="command-name">~dipkg</span>
                        <span class="command-type">PACKAGE MANAGEMENT</span>
                    </div>
                    <div class="command-description">
                        Manages DI compiler packages. Allows installing, activating, and managing package dependencies.
                    </div>
                    <div class="command-usage">
                        <div class="command-usage-title">Usage:</div>
                        <div class="code-block">
                            <pre>~dipkg [command] [package_name]</pre>
                        </div>
                    </div>
                    <div class="command-examples">
                        <h4>Examples:</h4>
                        <div class="command-example">
                            <div class="code-block">
                                <pre><span class="comment">// Install a package</span>
~dipkg install di-ext

<span class="comment">// Activate a package</span>
~dipkg activate direct-actu

<span class="comment">// List installed packages</span>
~dipkg list

<span class="comment">// Show available packages</span>
~dipkg available</pre>
                            </div>
                        </div>
                    </div>
                    <div class="command-requirements">
                        <strong>Requirements:</strong> DI compiler must be active
                    </div>
                </div>
                
                <div class="command-card" id="memory-command">
                    <div class="command-header">
                        <span class="command-name">~memory</span>
                        <span class="command-type">RESOURCE MONITORING</span>
                    </div>
                    <div class="command-description">
                        Displays current memory usage statistics and system resource allocation.
                    </div>
                    <div class="command-usage">
                        <div class="command-usage-title">Usage:</div>
                        <div class="code-block">
                            <pre>~memory</pre>
                        </div>
                    </div>
                    <div class="command-examples">
                        <h4>Example Output:</h4>
                        <div class="command-example">
                            <div class="code-block">
                                <pre>Memory usage: 247.18 MB / 512 MB (48.3%)
Cache size: 45.2 MB
Active compilations: 3</pre>
                            </div>
                        </div>
                    </div>
                    <div class="command-requirements">
                        <strong>Requirements:</strong> None (always available)
                    </div>
                </div>
                
                <div class="command-card" id="reset-command">
                    <div class="command-header">
                        <span class="command-name">~reset</span>
                        <span class="command-type">SYSTEM MANAGEMENT</span>
                    </div>
                    <div class="command-description">
                        Resets the runtime state while preserving configuration. Clears cache and temporary memory.
                    </div>
                    <div class="command-usage">
                        <div class="command-usage-title">Usage:</div>
                        <div class="code-block">
                            <pre>~reset</pre>
                        </div>
                    </div>
                    <div class="command-examples">
                        <h4>Example Output:</h4>
                        <div class="command-example">
                            <div class="code-block">
                                <pre>System state reset
Cache cleared
Memory usage: 12.4 MB / 512 MB (2.4%)</pre>
                            </div>
                        </div>
                    </div>
                    <div class="command-requirements">
                        <strong>Requirements:</strong> None (always available)
                    </div>
                </div>
                
                <div class="command-card" id="info-command">
                    <div class="command-header">
                        <span class="command-name">~i</span>
                        <span class="command-type">SYSTEM INFORMATION</span>
                    </div>
                    <div class="command-description">
                        Displays comprehensive system information including package status, memory usage, and configuration summary.
                    </div>
                    <div class="command-usage">
                        <div class="command-usage-title">Usage:</div>
                        <div class="code-block">
                            <pre>~i</pre>
                        </div>
                    </div>
                    <div class="command-examples">
                        <h4>Example Output:</h4>
                        <div class="command-example">
                            <div class="code-block">
                                <pre>=== DI PACKAGE INFORMATION ===

[Available Packages]
  directint
  directint-sys
  directint-api
  di-ext
  direct-actu

[Installed Packages]
  directint (active)
  directint-sys (active)
  directint-api (active)

[System Status]
  Compiler: DI
  Memory: 45.23MB used
  Last Error: none</pre>
                            </div>
                        </div>
                    </div>
                    <div class="command-requirements">
                        <strong>Requirements:</strong> direct-actu package must be installed and active
                    </div>
                </div>
            </section>
            
            <section id="configuration" class="content-section">
                <h2>Configuration</h2>
                <p>Flexible runtime configuration system with hierarchical structure.</p>
                
                <h3 id="compiler-config">Compiler Settings</h3>
                <div class="code-block">
                    <pre><span class="string">"compilerOptions"</span>: {
  <span class="string">"optimizationLevel"</span>: <span class="number">1</span>,  <span class="comment">// 1-3</span>
  <span class="string">"strictMode"</span>: <span class="keyword">false</span>,  <span class="comment">// true/false</span>
  <span class="string">"debugSymbols"</span>: <span class="keyword">true</span>  <span class="comment">// true/false</span>
}</pre>
                </div>
                
                <h3 id="runtime-config">Runtime Settings</h3>
                <div class="code-block">
                    <pre><span class="string">"bash"</span>: {
  <span class="string">"memoryLimitMB"</span>: <span class="number">512</span>,
  <span class="string">"timeoutMs"</span>: <span class="number">10000</span>,
  <span class="string">"maxOutputLines"</span>: <span class="number">1000</span>,
  <span class="string">"historySize"</span>: <span class="number">50</span>,
  <span class="string">"theme"</span>: <span class="string">"dark"</span>,
  <span class="string">"autoScroll"</span>: <span class="keyword">true</span>
}</pre>
                </div>
                
                <h3 id="package-config">Package Settings</h3>
                <div class="code-block">
                    <pre><span class="string">"DI"</span>: {
  <span class="string">"options"</span>: {
    <span class="string">"packages"</span>: {
      <span class="string">"available"</span>: [...],
      <span class="string">"installed"</span>: [...],
      <span class="string">"active"</span>: [...]
    }
  }
}</pre>
                </div>
                
                <div class="note">
                    <div class="note-title">Configuration Hierarchy</div>
                    <p>Settings are applied in this order: defaults → package config → runtime config → command-line overrides.</p>
                </div>
            </section>
            
            <section id="resource-management" class="content-section">
                <h2>Resource Management</h2>
                
                <h3 id="memory-management">Memory Management</h3>
                <p>Precise memory tracking and limits enforcement.</p>
                
                <div class="code-block">
                    <pre><span class="comment">// Memory check implementation</span>
checkMemory() {
  <span class="keyword">if</span> (<span class="keyword">this</span>.memoryUsage > <span class="keyword">this</span>.config.bash.memoryLimitMB * <span class="number">1024</span> * <span class="number">1024</span>) {
    <span class="keyword">throw new</span> <span class="type">Error</span>(<span class="string">`Memory limit exceeded (<span class="operator">${</span><span class="keyword">this</span>.config.bash.memoryLimitMB<span class="operator">}</span>MB)`</span>);
  }
}</pre>
                </div>
                
                <h4>Memory Lifecycle</h4>
                <ol>
                    <li>Allocation during code processing</li>
                    <li>Tracking via internal counters</li>
                    <li>Periodic cleanup cycles</li>
                    <li>Emergency measures when limits exceeded</li>
                </ol>
                
                <h3 id="performance-optimization">Performance Optimization</h3>
                <p>Key optimization techniques:</p>
                <ul>
                    <li>Select appropriate compiler for your use case</li>
                    <li>Adjust optimization level based on needs</li>
                    <li>Manage package activation to reduce overhead</li>
                    <li>Monitor memory usage patterns</li>
                </ul>
            </section>
            
            <section id="error-handling" class="content-section">
                <h2>Error Handling</h2>
                
                <h3 id="error-types">Error Types</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Type</th>
                                <th>Prefix</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>System</td>
                                <td>System.exception</td>
                                <td>Invalid command</td>
                            </tr>
                            <tr>
                                <td>Compiler</td>
                                <td>Compiler.exception</td>
                                <td>Syntax error</td>
                            </tr>
                            <tr>
                                <td>Memory</td>
                                <td>Memory.exception</td>
                                <td>Limit exceeded</td>
                            </tr>
                            <tr>
                                <td>Package</td>
                                <td>DI Package.exception</td>
                                <td>Required package missing</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <h3 id="error-recovery">Error Recovery</h3>
                <p>Median Core maintains stability through:</p>
                <ul>
                    <li>Isolated error contexts</li>
                    <li>Automatic state preservation</li>
                    <li>Last error tracking (<code>getLastError()</code>)</li>
                    <li>Graceful fallback mechanisms</li>
                </ul>
                
                <div class="code-block">
                    <pre><span class="comment">// Error handling implementation</span>
processCommand(command) {
  <span class="keyword">try</span> {
    <span class="keyword">this</span>.checkMemory();
    <span class="keyword">this</span>.lastError = <span class="keyword">null</span>;
    <span class="keyword">if</span> (command.startsWith(<span class="string">'~'</span>)) {
      <span class="keyword">return this</span>.processSystemCommand(command);
    }
    <span class="comment">// ... command processing</span>
  } <span class="keyword">catch</span> (e) {
    <span class="keyword">this</span>.lastError = e.message;
    <span class="keyword">throw</span> e;
  }
}</pre>
                </div>
            </section>
            
            <section id="best-practices" class="content-section">
                <h2>Best Practices</h2>
                
                <h3>Development Configuration</h3>
                <div class="code-block">
                    <pre><span class="comment">// Recommended development setup</span>
~compil DI
~dipkg install di-ext
~dipkg install direct-actu
~dipkg activate di-ext
~dipkg activate direct-actu
~config set compilerOptions.debugSymbols true
~config set bash.memoryLimitMB 1024</pre>
                </div>
                
                <h3>Production Configuration</h3>
                <div class="code-block">
                    <pre><span class="comment">// Optimized production setup</span>
~compil DC
~config set compilerOptions.optimizationLevel 3
~config set compilerOptions.strictMode true
~config set bash.memoryLimitMB 256</pre>
                </div>
                
                <h3>Package Management</h3>
                <ul>
                    <li>Install only needed packages to conserve memory</li>
                    <li>Keep directint-sys active for emergency compiler changes</li>
                    <li>Activate di-ext only when configuration changes are needed</li>
                    <li>Use direct-actu for debugging sessions</li>
                </ul>
                
                <h3>Performance Tips</h3>
                <ul>
                    <li>Use FC for iterative development</li>
                    <li>Switch to DC for final builds</li>
                    <li>Monitor memory usage regularly</li>
                    <li>Reset state between major operations</li>
                </ul>
            </section>
            
            <section id="api-reference" class="content-section">
                <h2>API Reference</h2>
                
                <h3>Core Methods</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Method</th>
                                <th>Description</th>
                                <th>Returns</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>processCommand(cmd)</td>
                                <td>Main execution method</td>
                                <td>Execution result</td>
                            </tr>
                            <tr>
                                <td>loadConfig(json)</td>
                                <td>Load configuration</td>
                                <td>Boolean (success)</td>
                            </tr>
                            <tr>
                                <td>getLastError()</td>
                                <td>Get last error message</td>
                                <td>String or null</td>
                            </tr>
                            <tr>
                                <td>resetMemoryUsage()</td>
                                <td>Reset memory counter</td>
                                <td>Void</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <h3>System Commands</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Command</th>
                                <th>Description</th>
                                <th>Requirements</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>~compil</td>
                                <td>Compiler management</td>
                                <td>directint-sys</td>
                            </tr>
                            <tr>
                                <td>~config</td>
                                <td>Configuration</td>
                                <td>di-ext</td>
                            </tr>
                            <tr>
                                <td>~dipkg</td>
                                <td>Package management</td>
                                <td>directint-sys</td>
                            </tr>
                            <tr>
                                <td>~i</td>
                                <td>System information</td>
                                <td>direct-actu</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <section id="appendix" class="content-section">
                <h2>Appendix</h2>
                
                <h3>Default Configuration</h3>
                <div class="code-block">
                    <pre>{
  <span class="string">"compiler"</span>: <span class="keyword">null</span>,
  <span class="string">"compilerOptions"</span>: {
    <span class="string">"optimizationLevel"</span>: <span class="number">1</span>,
    <span class="string">"strictMode"</span>: <span class="keyword">false</span>,
    <span class="string">"debugSymbols"</span>: <span class="keyword">true</span>
  },
  <span class="string">"bash"</span>: {
    <span class="string">"memoryLimitMB"</span>: <span class="number">512</span>,
    <span class="string">"timeoutMs"</span>: <span class="number">10000</span>,
    <span class="string">"maxOutputLines"</span>: <span class="number">1000</span>,
    <span class="string">"historySize"</span>: <span class="number">50</span>,
    <span class="string">"theme"</span>: <span class="string">"dark"</span>,
    <span class="string">"autoScroll"</span>: <span class="keyword">true</span>
  },
  <span class="string">"configuration"</span>: {
    <span class="string">"key"</span>: <span class="string">"1.0.0"</span>
  }
}</pre>
                </div>
                
                <h3>DI Packages Defaults</h3>
                <div class="code-block">
                    <pre>{
  <span class="string">"available"</span>: [
    <span class="string">"directint"</span>,
    <span class="string">"directint-sys"</span>,
    <span class="string">"directint-api"</span>,
    <span class="string">"di-ext"</span>,
    <span class="string">"direct-actu"</span>
  ],
  <span class="string">"installed"</span>: [
    <span class="string">"directint"</span>,
    <span class="string">"directint-sys"</span>,
    <span class="string">"directint-api"</span>
  ],
  <span class="string">"active"</span>: [
    <span class="string">"directint"</span>,
    <span class="string">"directint-sys"</span>,
    <span class="string">"directint-api"</span>
  ]
}</pre>
                </div>
                
                <h3>Glossary</h3>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Term</th>
                                <th>Definition</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>DI</td>
                                <td>Direct Interpreter - line-by-line code execution</td>
                            </tr>
                            <tr>
                                <td>FC</td>
                                <td>Flexible Compiler - balanced JIT compilation</td>
                            </tr>
                            <tr>
                                <td>DC</td>
                                <td>Direct Compiler - optimized AOT compilation</td>
                            </tr>
                            <tr>
                                <td>AOT</td>
                                <td>Ahead-Of-Time compilation</td>
                            </tr>
                            <tr>
                                <td>JIT</td>
                                <td>Just-In-Time compilation</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth'
                    });
                    
                    document.querySelectorAll('.sidebar-menu a').forEach(link => {
                        link.classList.remove('active');
                    });
                    this.classList.add('active');
                }
            });
        });

        window.addEventListener('scroll', function() {
            const sections = document.querySelectorAll('.content-section');
            let currentSection = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 150;
                if (window.scrollY >= sectionTop) {
                    currentSection = '#' + section.getAttribute('id');
                }
            });
            
            document.querySelectorAll('.sidebar-menu a').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === currentSection) {
                    link.classList.add('active');
                }
            });
        });

        document.addEventListener('touchmove', function(event) {
            if (event.scale !== 1) { 
                event.preventDefault(); 
            }
        }, { passive: false });

        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });
        
        document.addEventListener('copy', function(e) {
            e.preventDefault();
        });

        document.addEventListener('dragstart', function(e) {
            if (e.target.tagName === 'IMG') {
                e.preventDefault();
            }
        });
        
        // Search functionality
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            if (searchTerm.length < 2) {
                document.querySelectorAll('.highlight').forEach(el => {
                    el.classList.remove('highlight');
                });
                document.querySelectorAll('.command-card').forEach(card => {
                    card.style.display = 'block';
                });
                document.querySelectorAll('.sidebar-menu a').forEach(item => {
                    item.style.display = 'block';
                });
                const noResults = document.getElementById('noResultsMessage');
                if (noResults) noResults.remove();
                return;
            }
            
            // Search in commands
            const commandCards = document.querySelectorAll('.command-card');
            let foundAny = false;
            
            commandCards.forEach(card => {
                const cardContent = card.textContent.toLowerCase();
                const commandName = card.querySelector('.command-name').textContent.toLowerCase();
                
                if (commandName.includes(searchTerm)) {
                    card.style.display = 'block';
                    foundAny = true;
                    
                    // Highlight the command name
                    const nameElement = card.querySelector('.command-name');
                    const originalName = nameElement.textContent;
                    nameElement.innerHTML = originalName.replace(
                        new RegExp(searchTerm, 'gi'), 
                        match => `<span class="highlight">${match}</span>`
                    );
                } else if (cardContent.includes(searchTerm)) {
                    card.style.display = 'block';
                    foundAny = true;
                    
                    // Highlight all occurrences in the card
                    const walker = document.createTreeWalker(card, NodeFilter.SHOW_TEXT);
                    const nodes = [];
                    let node;
                    while (node = walker.nextNode()) {
                        if (node.nodeType === 3 && node.textContent.toLowerCase().includes(searchTerm)) {
                            nodes.push(node);
                        }
                    }
                    
                    nodes.forEach(node => {
                        const span = document.createElement('span');
                        span.innerHTML = node.textContent.replace(
                            new RegExp(searchTerm, 'gi'), 
                            match => `<span class="highlight">${match}</span>`
                        );
                        node.parentNode.replaceChild(span, node);
                    });
                } else {
                    card.style.display = 'none';
                }
            });
            
            // Search in sidebar
            const sidebarItems = document.querySelectorAll('.sidebar-menu a');
            sidebarItems.forEach(item => {
                const itemText = item.textContent.toLowerCase();
                if (itemText.includes(searchTerm)) {
                    item.style.display = 'block';
                    item.innerHTML = item.textContent.replace(
                        new RegExp(searchTerm, 'gi'), 
                        match => `<span class="highlight">${match}</span>`
                    );
                } else {
                    item.style.display = 'none';
                }
            });
            
            // If no results, show a message
            if (!foundAny) {
                const noResults = document.createElement('div');
                noResults.className = 'note';
                noResults.innerHTML = `
                    <div class="note-title">No results found</div>
                    <p>Try searching for: ~compil, ~config, ~dipkg, ~memory, ~reset, ~i</p>
                `;
                noResults.id = 'noResultsMessage';
                
                const commandsSection = document.getElementById('system-commands');
                if (!document.getElementById('noResultsMessage')) {
                    commandsSection.prepend(noResults);
                }
            } else {
                const noResults = document.getElementById('noResultsMessage');
                if (noResults) noResults.remove();
            }
        });
        
        // Clear search when clicking on sidebar items
        document.querySelectorAll('.sidebar-menu a').forEach(item => {
            item.addEventListener('click', function() {
                document.getElementById('searchInput').value = '';
                document.querySelectorAll('.command-card').forEach(card => {
                    card.style.display = 'block';
                });
                document.querySelectorAll('.sidebar-menu a').forEach(item => {
                    item.style.display = 'block';
                });
                document.querySelectorAll('.highlight').forEach(el => {
                    const parent = el.parentNode;
                    parent.replaceWith(el.textContent);
                });
                const noResults = document.getElementById('noResultsMessage');
                if (noResults) noResults.remove();
            });
        });
    </script>
</body>
</html>